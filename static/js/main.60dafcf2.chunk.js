(window.webpackJsonpMiniApp=window.webpackJsonpMiniApp||[]).push([[0],{163:function(e,t,a){e.exports=a(251)},250:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);a(164),a(190),a(192),a(193),a(195),a(196),a(197),a(198),a(199),a(200),a(201),a(202),a(204),a(205),a(206),a(207),a(208),a(209),a(210),a(211),a(212),a(213),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(222),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(232);var n=a(0),i=a.n(n),o=a(83),r=a.n(o),s=a(14),c=a.n(s),l=a(38),u=a.n(l),p=a(57),d=a(84),h=a(85),m=a(94),f=a(86),b=a(32),v=a(95),y=a(87),k=a.n(y),g=a(8),w=a(59),E=a.n(w),_=a(60),A=a.n(_),S=a(93),C=a.n(S),j=(a(249),a(250),{backgroundColor:"var(--accent)"}),x=Object(g.o)(),O=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(m.a)(this,Object(f.a)(t).call(this,e))).back=function(){if(null===a.state.popout){var e=a.state,t=e.activePanel,n=e.history;"main"===t||1===n.length?c.a.send("VKWebAppClose",{status:"success"}):n.length>1&&(n.pop(),t=n[n.length-1],a.setState({activePanel:t}),a.change_hash(t))}else a.setState({popout:null})},a.state={popout:null,history:["main"],activePanel:"main",show_native_ads:!1},a.componentDidMount=a.componentDidMount.bind(Object(b.a)(a)),a.initializeApp=a.initializeApp.bind(Object(b.a)(a)),a.back=a.back.bind(Object(b.a)(a)),a.go=a.go.bind(Object(b.a)(a)),a.change_hash=a.change_hash.bind(Object(b.a)(a)),k.a.init(),a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("popstate",(function(t){t.preventDefault(),e.back(t)})),c.a.subscribe(function(){var e=Object(p.a)(u.a.mark((function e(t){var a,n,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.detail,n=a.type,i=a.data,void 0!==n&&console.log(n,i),"VKWebAppUpdateConfig"===n&&((o=document.createAttribute("scheme")).value=i.scheme?i.scheme:"client_light",document.body.attributes.setNamedItem(o));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.initializeApp()}},{key:"initializeApp",value:function(){var e=window.location.hash;e?(e=e.replace("#",""),this.go(e)):this.change_hash("main")}},{key:"go",value:function(e){var t=this.state.history;t[t.length-1]!==e&&(t.push(e),window.history.pushState({activePanel:e},"Title"),this.setState({activePanel:e,history:t,snackbar:null})),this.change_hash(e)}},{key:"change_hash",value:function(e){c.a.send("VKWebAppSetLocation",{location:e})}},{key:"showSnackBar",value:function(){var e=Object(p.a)(u.a.mark((function e(t,a,n,o,r){var s=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({snackbar:null}),e.next=3,this.sleep(10);case 3:null===r&&(r=function(){}),this.setState({snackbar:i.a.createElement(g.m,{layout:"vertical",onClose:function(){return s.setState({snackbar:null})},before:i.a.createElement(g.b,{size:24,style:n},a),action:o,onActionClick:r},t)});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n,i,o){return e.apply(this,arguments)}}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"render",value:function(){var e=this;return i.a.createElement(g.n,{activePanel:this.state.activePanel,popout:this.state.popout,history:this.state.history,onSwipeBack:this.back},i.a.createElement(g.i,{id:"main"},i.a.createElement(g.j,null,"Mini App"),i.a.createElement(g.f,null,i.a.createElement(g.d,{before:i.a.createElement(C.a,null),onClick:function(){e.go("advert")}},"\u0420\u0435\u043a\u043b\u0430\u043c\u0430"))),i.a.createElement(g.i,{id:"advert"},i.a.createElement(g.j,null,"\u0420\u0435\u043a\u043b\u0430\u043c\u0430"),i.a.createElement(g.d,{indicator:x===g.a?"Android":x===g.h?"IOS/Web":x.toString()},"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430"),i.a.createElement(g.f,{header:i.a.createElement(g.g,{mode:"secondary"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0435\u043a\u043b\u0430\u043c\u044b")},i.a.createElement(g.d,{onClick:function(){x===g.h?e.setState({show_banner_ads:!e.state.show_banner_ads}):e.showSnackBar("\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 IOS",i.a.createElement(E.a,{fill:"#fff"}),j)},asideContent:i.a.createElement(A.a,{style:{transform:"rotate(".concat(this.state.show_banner_ads?"180deg":"0",")")}})},"\u0411\u0430\u043d\u043d\u0435\u0440"),this.state.show_banner_ads&&i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"}},i.a.createElement(g.c,{mode:"primary",onClick:function(){c.a.send("VKWebAppGetAds",{}).then((function(t){e.setState({promoBanner:i.a.createElement(g.k,{onClose:function(){e.setState({promoBanner:null})},bannerData:t})})}))}},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"),i.a.createElement(g.c,{style:{marginLeft:"8px",marginRight:"8px"},mode:"secondary",onClick:function(){e.setState({promoBanner:null})}},"\u0421\u043a\u0440\u044b\u0442\u044c")),i.a.createElement(g.l,{style:{marginTop:"8px"}})),i.a.createElement(g.d,{onClick:function(){x===g.a?e.setState({show_native_ads:!e.state.show_native_ads}):e.showSnackBar("\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 Android",i.a.createElement(E.a,{fill:"#fff"}),j)},asideContent:i.a.createElement(A.a,{style:{transform:"rotate(".concat(this.state.show_native_ads?"180deg":"0",")")}})},"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u0430\u044f"),this.state.show_native_ads&&i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"}},i.a.createElement(g.c,{mode:"outline",onClick:function(){c.a.send("VKWebAppShowNativeAds",{ad_format:"preloader"})}},"preloader"),i.a.createElement(g.c,{style:{marginLeft:"8px"},mode:"outline",onClick:function(){c.a.send("VKWebAppShowNativeAds",{ad_format:"reward"})}},"reward"),i.a.createElement(g.c,{style:{marginLeft:"8px",marginRight:"8px"},mode:"outline",onClick:function(){c.a.send("VKWebAppShowNativeAds",{ad_format:"interstitial"})}},"interstitial")),i.a.createElement(g.l,{style:{marginTop:"8px"}}))),this.state.promoBanner&&i.a.createElement(g.e,{vertical:"bottom"},this.state.promoBanner),this.state.snackbar))}}]),t}(i.a.Component);c.a.send("VKWebAppInit"),r.a.render(i.a.createElement(O,{className:""}),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.60dafcf2.chunk.js.map